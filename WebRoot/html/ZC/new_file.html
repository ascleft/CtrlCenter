<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>动态生成Form表单</title>

		<script src="https://code.jquery.com/jquery-2.1.1.min.js "></script>

		<script type="application/javascript">
			function addParam() {
				var input = document.createElement('input');
				input.setAttribute('type', 'text');
				input.setAttribute('name', '未定义');
				input.setAttribute('value', '未定义');
				document.getElementById('mainTestForm').appendChild(input);
			}

			function setParamName(Elm, newName) {
				Elm.name = newName;
			}

			function sendF() {
				$("#mainTestForm").submit();
			}

			function sendForm() {
				$.ajax({
					type: "get",
					url: "https://www.baidu.com/s?wd=123",
					dataType: "jsonp",
					jsonp: "callbackparam",
					jsonpCallback: "success_jsonpCallback",
					success: function(rsp) {
						alert(json);
					},
					error: function() {
						alert('fail');
					}

				})
			}

			function sendForm2(mysuccess, mydata, Qtype) {
				$.ajax({
					type: "GET",
					//					url: "https://www.baidu.com/s",
					url: "http://blog.csdn.net/enterys/article/details/7646295",
					//					data: "wd=123",
					dataType: "jsonp",
					jsonp: 'jsoncallback',
					success: function(data) {
						if(data.errorCode == "0") {
							mysuccess(data);
						} else {
							//显示错误信息
							var errorMessage = data.errors;
							alert(errorMessage);
						}
					},
					error: function(XMLHttpRequest, textStatus, errorThrown) {
						alert("请求数据异常，状态码：" + XMLHttpRequest.status);
						alert("请求数据异常，状态码：" + textStatus);
						alert("请求数据异常，状态码：" + errorThrown);
					}
				});
			}
		</script>

	</head>

	<body>

		<h1>动态form</h1>
		<form id='mainTestForm' action="http://blog.csdn.net/enterys/article/details/7646295" method="get" target="rsp">

		</form>

		<button onclick="addParam()">添加参数</button>
		<button onclick="sendF()">提交表单</button>
		<iframe id="rsp" name="rsp"></iframe>

	</body>

</html>